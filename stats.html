<!--
elfrey miss
elfrey 2
elfrey 3
elfrey block
elfrey to
elfrey rebound
elfrey steal
elfrey ftmiss
elfrey ft
elfrey as
-->

<!--       <th> Name </th>
      <th> Points </th> 0
      <th> Shots Made </th> 1
      <th> Shots Attempted </th> 2
      <th> FT Made </th> 3
      <th> FT Attempted </th> 4
      <th> Assists </th> 5
      <th> Rebounds </th> 6
      <th> Blocks </th> 7
      <th> Steals </th> 8
      <th> Turnovers </th> 9 -->

<html>
<head>
  <title> Easy Basketball Stats </title>
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js">
  </script>
  <script type="text/javascript">
    // $(document).ready(function(){
      undo = "";
      function changeStats(){
        var str = $("#input_text").val();
        $("#input_text").select();
        var str_split = str.split(" ");
        if (str_split.length != 2){
          return false
        }
        var name = str_split[0].toLowerCase();
        var action = str_split[1].toLowerCase();

        var arr = [0,0,0,0,0,0,0,0,0,0];
        if      (action == "miss" || action[0]=="m"){ arr[2] += 1; }
        else if (action == "block"|| action[0]=="b"){ arr[7] += 1; }
        else if (action == "to"|| action[0]=="t"){ arr[9] += 1; }
        else if (action == "rebound"|| action[0]=="r"){ arr[6] += 1; }
        else if (action == "steal"|| action[0]=="s"){ arr[8] += 1; }
        else if (action == "as" || action[0]=="a"){ arr[5] += 1; }

        else if (action == "2" || action == "3"){
          arr[0] += parseInt(action);
          arr[1] += 1;
          arr[2] += 1;
        }
        else if (action == "ft"){
          arr[0] += 1;
          arr[3] += 1;
          arr[4] += 1;
        }
        else if (action == "ftmiss"){
          arr[4] += 1;
        }
        else {
          return false;
        }


        var rows = ["name","points","shots_made","shots_attempted","ft_made","ft_attempted","assists","rebounds",
                    "blocks","steals","turnovers"];

        var row = $("#"+name);
        if (row.html() == null){
          // $("#stats_table").append("<p> Hello World! </p>");
          var new_row = "<tr id='"+name+"'> <td class='"+rows[0]+"'>"+name+"</td>";
          for (var i = 1; i < rows.length; i++) {
            new_row += "\n <td class='"+rows[i]+"'>"+arr[i-1]+"</td>";
          };
          new_row += "\n </tr>";
          $("#stats_table").append(new_row);
        }
        else {
          for (var i = 1; i < rows.length; i++) {
            var selection = "#"+name+" ."+rows[i]
            var previous = $(selection).html();
            $(selection).html(String(parseInt(previous)+arr[i-1]));
          };
        }

      }
      
    // });
  </script>
</head>
<body>
  <p>
    The purpose of this site is to make it easy for you to keep track of basketball stats during a game. <br/>
    When a player does something, type in their name and action in the input below.
    Don't leave this page if you want to keep your stats.<br/>
    Follow this format: <b>name action</b> <br/>
    Shortcuts are allowed. For example, typing in "elfrey b" means that the player named elfrey will be added one block.
    <br/>
    However, you can't have any spaces for the name. So either put only their first name or take out the spaces. <br/>
    <br/>
    "name <b>2</b>" -> made a two pointer<br/>
    "name <b>3</b>" -> made a three pointer <br/>
    "name <b>m</b>iss" -> missed a shot<br/>
    "name <b>ft</b>" -> made a free throw <br/>
    "name <b>ftmiss</b>" -> missed a free throw <br/>
    "name <b>a</b>ssist" -> got an assist <br/>
    "name <b>r</b>ebound" -> got a rebound <br/>
    "name <b>b</b>lock" -> got a block <br/>
    "name <b>s</b>teal" -> got a steal <br/>
    "name <b>t</b>urnover" -> committed a turnover <br/>
  </p>
  <form action="" onsubmit="changeStats(); return false;">
    <input type="text" id="input_text">
    <input type="submit" value="Submit">
  </form>

  <table id="stats_table" border="1">
    <tr>
      <th> Name </th>
      <th> Points </th>
      <th> Shots Made </th>
      <th> Shots Attempted </th>
      <th> FT Made </th>
      <th> FT Attempted </th>
      <th> Assists </th>
      <th> Rebounds </th>
      <th> Blocks </th>
      <th> Steals </th>
      <th> Turnovers </th>
    </tr><!-- 
    <tr id="elfrey">
      <td class="name"> Elfrey </td>
      <td class="points"> 6 </td>
      <td class="shots_made"> 4 </td>
      <td class="shots_attempted"> 3 </td>
      <td class="ft_made"> 4 </td>
      <td class="ft_attempted"> 3 </td>
      <td class="assists"> 3 </td>
      <td class="rebounds"> 4 </td>
      <td class="blocks"> 3 </td>
      <td class="steals"> 3 </td>
      <td class="turnovers"> 3 </td>
    </tr> -->


  </table>

</body>
</html>